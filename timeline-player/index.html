<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¶é—´è½´æ—¥ç¨‹è®¡åˆ’ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- é¡¶éƒ¨å·¥å…·æ  -->
        <header class="toolbar">
            <div class="toolbar-left">
                <h1>ğŸ“… æ—¶é—´è½´è®¡åˆ’</h1>
                <button id="addTaskBtn" class="btn btn-primary">+ æ–°å»ºä»»åŠ¡</button>
            </div>
            <div class="toolbar-center">
                <div class="zoom-controls">
                    <button id="zoomOut" class="btn btn-icon">âˆ’</button>
                    <span id="zoomLevel">100%</span>
                    <button id="zoomIn" class="btn btn-icon">+</button>
                </div>
                <div class="view-controls">
                    <button class="btn btn-toggle active" data-view="day">æ—¥</button>
                    <button class="btn btn-toggle" data-view="week">å‘¨</button>
                </div>
            </div>
            <div class="toolbar-right">
                <button id="todayBtn" class="btn btn-secondary">ä»Šå¤©</button>
                <button id="exportBtn" class="btn btn-secondary">ğŸ“¤ å¯¼å‡º</button>
            </div>
        </header>

        <!-- ä¸»å†…å®¹åŒº -->
        <div class="main-content">
            <!-- å·¦ä¾§ä»»åŠ¡åˆ—è¡¨ -->
            <aside class="task-sidebar">
                <div class="sidebar-header">
                    <h3>ä»»åŠ¡åˆ—è¡¨</h3>
                    <input type="text" id="searchTask" placeholder="ğŸ” æœç´¢ä»»åŠ¡...">
                </div>
                <div id="taskList" class="task-list"></div>
            </aside>

            <!-- å³ä¾§æ—¶é—´è½´ -->
            <main class="timeline-container">
                <div class="timeline-header" id="timelineHeader"></div>
                <div class="timeline-body" id="timelineBody">
                    <canvas id="timelineCanvas"></canvas>
                    <div id="taskBars" class="task-bars"></div>
                </div>
            </main>
        </div>
    </div>

    <!-- ä»»åŠ¡ç¼–è¾‘å¼¹çª— -->
    <div id="taskModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">æ–°å»ºä»»åŠ¡</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="taskForm">
                    <div class="form-group">
                        <label>ä»»åŠ¡åç§° *</label>
                        <input type="text" id="taskName" required>
                    </div>
                    <div class="form-group">
                        <label>å¼€å§‹æ—¶é—´ *</label>
                        <input type="datetime-local" id="taskStart" required>
                    </div>
                    <div class="form-group">
                        <label>ç»“æŸæ—¶é—´ *</label>
                        <input type="datetime-local" id="taskEnd" required>
                    </div>
                    <div class="form-group">
                        <label>æè¿°</label>
                        <textarea id="taskDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label>ä¼˜å…ˆçº§</label>
                        <select id="taskPriority">
                            <option value="low">ä½</option>
                            <option value="medium" selected>ä¸­</option>
                            <option value="high">é«˜</option>
                            <option value="urgent">ç´§æ€¥</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>é¢œè‰²</label>
                        <input type="color" id="taskColor" value="#3498db">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="hasParent">
                            è¿™æ˜¯å­ä»»åŠ¡
                        </label>
                    </div>
                    <div class="form-group" id="parentSelectGroup" style="display: none;">
                        <label>çˆ¶ä»»åŠ¡</label>
                        <select id="parentTask"></select>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" id="cancelBtn">å–æ¶ˆ</button>
                        <button type="submit" class="btn btn-primary">ä¿å­˜</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

<!-- JavaScript æ¨¡å—åŠ è½½ - é¡ºåºå¾ˆé‡è¦ï¼ -->
<script src="js/core.js"></script>
<script src="js/taskManager.js"></script>
<script src="js/timeline.js"></script>
<script src="js/calendar.js"></script>     <!-- æ–°å¢ -->
<script src="js/ui.js"></script>

<!-- è°ƒè¯•ä¿¡æ¯ -->
<script>
    console.log('%câœ… æ—¶é—´è½´è®¡åˆ’ç³»ç»Ÿå·²åŠ è½½', 'color: green; font-size: 16px; font-weight: bold;');
    console.log('æ ¸å¿ƒæ¨¡å—:', typeof AppConfig !== 'undefined' ? 'âœ…' : 'âŒ');
    console.log('ä»»åŠ¡ç®¡ç†:', typeof taskManager !== 'undefined' ? 'âœ…' : 'âŒ');
    console.log('æ—¶é—´è½´:', typeof timeline !== 'undefined' ? 'âœ…' : 'âŒ');
    console.log('æ—¥å†æ¨¡å—:', typeof calendarExporter !== 'undefined' ? 'âœ…' : 'âŒ');  <!-- æ–°å¢ -->
    console.log('UIæ§åˆ¶:', typeof uiController !== 'undefined' ? 'âœ…' : 'âŒ');
</script>

</body>
</html>
